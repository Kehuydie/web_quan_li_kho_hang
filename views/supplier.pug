doctype html
html
  head
    title #{title}
    link(rel="stylesheet", href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css")
  script(src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js")
    link(rel="stylesheet", href="/css/product.css")
  body
    button.btn.btn-primary.position-fixed.top-0.start-0.m-3.z-3(type="button", data-bs-toggle="offcanvas", data-bs-target="#sidebarMenu")
        i.bi.bi-list.me-1
        | >
    .offcanvas.offcanvas-start(id="sidebarMenu", tabindex="-1")
        .offcanvas-header
            h5.offcanvas-title Menu
            button.btn-close(type="button", data-bs-dismiss="offcanvas")
        .offcanvas-body
            ul.nav.flex-column.nav-pills
                li.nav-item
                    a.nav-link(href="/product") Sản phẩm
                li.nav-item
                    a.nav-link(href="/supplier") Nhà cung cấp
                li.nav-item
                    a.nav-link(href="/import") Phiếu nhập
                li.nav-item
                    a.nav-link(href="/import/create") Tạo phiếu nhập
                li.nav-item
                    a.nav-link(href="/export") Phiếu xuất
                li.nav-item
                    a.nav-link(href="/export/create") Tạo phiếu xuất
    h1.text-center Danh sách nhà cung cấp 

    table.table.table-striped.table-bordered.table-hover
        thead.table-success
            tr
                th check
                th ID
                th Tên công ty 
                th người liên lạc
                th SDT
                th email
                th địa chỉ
                th mã số thuế 
                th Trạng thái
        tbody
            each supplier in getsupplier
                tr
                    td 
                        input(type="checkbox",value=`${supplier.supplier_id}`,name="supid[]",class="itemcheckbox",data-name=supplier.company_name,data-contact=supplier.contact_person,data-phone=supplier.phone,data-email=supplier.email,data-address=supplier.address,data-tax=supplier.tax_code,data-status=supplier.status)
                    td= supplier.supplier_id
                    td= supplier.company_name
                    td= supplier.contact_person
                    td= supplier.phone
                    td= supplier.email
                    td= supplier.address
                    td= supplier.tax_code
                    td 
                        if supplier.status === 'active'
                            span.badge.bg-success Active
                        else if supplier.status === 'inactive'
                            span.badge.bg-secondary Inactive
                        else
                            span.badge.bg-warning Chưa rõ

button.btn.btn-success(data-bs-toggle="modal", data-bs-target="#addsupplierModal") Thêm nhà cung cấp    
button.btn.btn-danger(data-bs-toggle="modal", data-bs-target="#deletesupplierModal") Xóa nhà cung cấp đã chọn 
button#editButton.btn.btn-warning(type="button") Chỉnh sửa nhà cung cấp 


div.modal.fade(id="addsupplierModal", tabindex="-1") 
  div.modal-dialog
    div.modal-content
      div.modal-header
        h5.modal-title Thêm nhà cung cấp mới
        button.btn-close(type="button", data-bs-dismiss="modal", aria-label="Close")
      div.modal-body
        form(action="/supplier/add", method="POST")
            .mb-3
                label.form-label(for="company_name") Tên nhà cung cấp 
                input.form-control(type="text", name="company_name", required)
            .mb-3
                label.form-label(for="contact_person") người liên lạc
                input.form-control(type="text", name="contact_person",step="0.01", required)  
            .mb-3
                label.form-label(for="phone") SDT
                input.form-control(type="number", name="phone",step="0.01", required)
            .mb-3
                label.form-label(for="email") email
                input.form-control(type="text", name="email", required)
            .mb-3
                label.form-label(for="address") địa chỉ 
                input.form-control(type="text", name="address", required)
            .mb-3
                label.form-label(for="tax_code") mã số thuế
                input.form-control(type="text", name="tax_code", required)
            .mb-3
                label(for="status") trạng thái 
                select.form-select(name="status", id="status")
                    option(value="") -- Chọn trạng thái --
                    option(value="active") active
                    option(value="inactive") inactive
            div.modal-footer
                button.btn.btn-primary(type="submit") Thêm nhà cung cấp 
                button.btn.btn-secondary(type="button", data-bs-dismiss="modal") Hủy bỏ


form#deleteForm(action="", method="POST")
  .modal.fade#deletesupplierModal(tabindex="-1")
    .modal-dialog
      .modal-content
        .modal-header
          h5.modal-title Xác nhận xóa
        .modal-body
          p Bạn có chắc muốn xóa nhà cung cấp này ?
          input(type="hidden", name="product_id")
        .modal-footer
          button.btn.btn-secondary(type="button", data-bs-dismiss="modal") Hủy
          button.btn.btn-danger(type="submit") Xác nhận

div.modal.fade#editsupplierModal(tabindex="-1")
  div.modal-dialog
    div.modal-content
      div.modal-header
        h5.modal-title Sửa sản phẩm
        button.btn-close(type="button", data-bs-dismiss="modal", aria-label="Close")
      div.modal-body
        form#editForm(action="", method="POST")
            input(type="hidden", name="supplier_id", id="edit_supplier_id")
            .mb-3
                label(for="edit_supplier_name") Tên nhà cung cấp 
                input.form-control(type="text", name="company_name", id="edit_supplier_name")
            .mb-3
                label(for="edit-contact_person") người liên lạclạc
                input.form-control(type="text", name="contact_person", id="edit-contact_person", step="0.01")
            .mb-3
                label(for="edit_phone") SDT
                input.form-control(type="number", name="phone", id="edit_phone", step="0.01")
            .mb-3
                label(for="edit_email") email
                input.form-control(type="text", name="email", id="edit_email", step="0.01")
            .mb-3
                label(for="edit_address") địa chỉ
                input.form-control(type="text", name="address", id="edit_address", step="0.01")
            .mb-3
                label(for="edit_tax_code") mã số thuế 
                input.form-control(type="text", name="tax_code", id="edit_tax_code", step="0.01")
            .mb-3
                label(for="edit_status") Trạng thái
                select.form-select(name="status", id="edit_status")
                    option(value="active") Active
                    option(value="inactive") Inactive
            div.modal-footer
                button.btn.btn-secondary(type="button", data-bs-dismiss="modal") Hủy
                button.btn.btn-primary(type="submit") Cập nhật



script(src="/script/supplier.js") 
